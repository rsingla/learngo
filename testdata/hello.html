<!DOCType html>
<html lang="en">
  <head>
    <title data-react-helmet="true">Designing Uber - TianPan.co</title>
    <meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"/><meta data-react-helmet="true" name="theme-color" content="#de4c4f"/><meta data-react-helmet="true" property="twitter:card" content="summary"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="article:published_time" content="2019-01-03 18:39"/><meta data-react-helmet="true" property="og:url" content="https://tianpan.co/notes/120-designing-uber"/><meta data-react-helmet="true" property="og:title" content="Designing Uber - TianPan.co"/><meta data-react-helmet="true" property="og:site_name" content="TianPan.co"/><meta data-react-helmet="true" name="twitter:title" content="Designing Uber - TianPan.co"/> 
    <link data-react-helmet="true" rel="manifest" href="/manifest.json"/><link data-react-helmet="true" rel="apple-touch-icon" href="/favicon.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="any" href="https://web-guiguio.b-cdn.net/favicon.png"/><link data-react-helmet="true" rel="stylesheet" type="text/css" href="https://web-guiguio.b-cdn.net/stylesheets/rc-drawer/index.css"/><link data-react-helmet="true" rel="stylesheet" type="text/css" href="https://web-guiguio.b-cdn.net/stylesheets/antd.css"/><link data-react-helmet="true" rel="stylesheet" type="text/css" href="https://web-guiguio.b-cdn.net/stylesheets/main.css"/><link data-react-helmet="true" href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css"/><link data-react-helmet="true" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" rel="stylesheet" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossOrigin="anonymous"/>
    
    <style>body{margin:0}</style>
    <style class="styletron-global">._ae{font-family:Open Sans,Helvetica Neue,sans-serif,Microsoft YaHei !important}._af{color:#4c4c4c}._ag{text-rendering:optimizeLegibility}._ah{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}._ai{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}._aj{-webkit-box-pack:justify;justify-content:space-between}._ak{-webkit-box-align:center;align-items:center}._al{line-height:52px}._am{height:52px}._an{background-color:#2E3235}._ao{color:#ffffff}._ap{top:0px}._aq{left:0px}._ar{width:100%}._as{z-index:70}._av{padding-left:6.6vw}._aw{padding-right:6.6vw}._az{box-sizing:border-box}._b0{position:fixed}._b1{width:52px}._b2{margin:8px}._b3{cursor:pointer}._b4{margin-left:0}._b5{text-decoration:none}._b6:hover{color:#de4c4f}._b7{position:relative}._b8{-webkit-transition:all 0.2s ease;-moz-transition:all 0.2s ease;transition:all 0.2s ease}._b9{font-weight:bold}._ba{display:flex!important}._bc{line-height:24px}._bd{margin:10px 0}._bf{color:#ffffff !important}._bg{border-radius:0px !important}._bh{background-color:undefined}._bi{position:relative !important}._bj{display:block !important}._bk{width:100% !important}._bl{border:1px solid #dfe3e6}._bm:focus{color:#4c4c4c !important}._bn:focus{border:1px solid #de4c4f}._bo:focus{background-color:#ffffff !important}._bp{font-size:14px !important}._bq{line-height:24px !important}._br{padding:4px 10px !important}._bs{outline:none}._bt{-webkit-transition:all 200ms ease;-moz-transition:all 200ms ease;transition:all 200ms ease}._bu{background:#2E3235}._bv{background-clip:padding-box}._bw{cursor:pointer !important}._bx{-webkit-transition:background 0.3s, border-color 0.3s !important}._by{-moz-transition:background 0.3s, border-color 0.3s !important}._bz{-webkit-transition:background 0.3s, border-color 0.3s !important;-moz-transition:background 0.3s, border-color 0.3s !important;transition:background 0.3s, border-color 0.3s !important}._c0{display:inline-block !important}._c1{text-align:center !important}._c2{text-decoration:none !important}._c3{text-transform:uppercase !important}._c4{border:1px solid transparent !important}._c5{letter-spacing:undefined !important}._c6{font-weight:700 !important}._c7{padding:4px !important}._c8{background:#de4c4f !important}._c9:hover{background:#ca4548 !important}._ca{margin-left:14px}._ce{font-size:12px}._cf{position:absolute}._cg{top:-8px}._ch{left:18px}._ci{color:#fff}._ck{text-align:left}._cl{left:-5px}._cm{padding:5px 10px}._cn{border-bottom-right-radius:4px}._co{border-bottom-left-radius:4px}._cp{z-index:1}._cq{line-height:35px}._cr{-webkit-transition:opacity 0.3s linear;-moz-transition:opacity 0.3s linear;transition:opacity 0.3s linear}._cz{white-space:nowrap}._d0{display:block}._d1{font-size:24px!important}._d2{padding:13px 0 13px 0}._d5{display:none!important}._d7{-webkit-box-pack:center;justify-content:center}._d8{padding:5px}._d9{padding:26px 26px 26px 26px}._da{-webkit-box-flex:1}._db{-webkit-justify-content:center}._dc{-webkit-box-lines:multiple;flex-wrap:wrap}._dd{align-content:auto}._de{height:auto}._df{background-color:auto}._dg{max-height:calc(100vh - 52px)}._dh{overflow-x:hidden}._di{overflow-y:hidden}._dj:hover{overflow-y:auto}._dk{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}._dl{margin:16px}._dm{max-width:680px}._dn{color:#404040!important}._do{-webkit-box-pack:end;justify-content:flex-end}._dp{-webkit-justify-content:flex-end}._dq{width:auto}._dr{background-color:rgba(0, 0, 32, 1)}._ds{max-width:272px}._dt{padding:16px}._du{-webkit-transition:transform 1200ms cubic-bezier(0.03, 0.98, 0.52, 0.99) 0s;-moz-transition:transform 1200ms cubic-bezier(0.03, 0.98, 0.52, 0.99) 0s;transition:transform 1200ms cubic-bezier(0.03, 0.98, 0.52, 0.99) 0s}._dv{border-radius:18px}._dw{background-color:#de4c4f}._dx{height:120px}._dy{width:120px}._dz{margin:0}._e0{text-align:center}._e1{color:#FFFFFF}._e2{margin-bottom:16px}._e3{margin-top:32px}._e4{overflow-wrap:break-word}._e5{font-size:24px}._e6{line-height:30px}._e7{padding-bottom:0}._e8{border:none}._e9{color:rgba(255, 255, 255, 0.8)}._ea{font-size:15px}._eb{-webkit-justify-content:space-between}._ec{margin-top:24px}._ed:hover{box-shadow:0 4px 16px rgba(0, 1, 31, 0.2)}._ee:hover{background-color:#5844ed}._ef:hover{color:#fff}._eg:active{outline:0}._eh:active{border:0}._ei:active{box-shadow:0 0 0 rgba(0, 1, 31, 0.05)}._ej{background-color:#4630eb}._ek{height:50px}._el{font-size:17px}._em{line-height:1}._en{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}._eo{border-radius:3px}._ep{transform:translate3d(0, 0, 0)}._eq{-webkit-transition-property:box-shadow, opacity, background, color;-moz-transition-property:box-shadow, opacity, background, color;transition-property:box-shadow, opacity, background, color}._er{box-shadow:0 0 0 rgba(0, 1, 31, 0.05)}._es{outline:0}._et{border:0}._eu{max-width:141px}._ev{margin-bottom:8px}._ew{padding-bottom:2px}._ex{box-shadow:inset -1px 0 0 rgba(255, 255, 255, 0.1)}._ey{flex-shrink:0}._ez{width:50px}._f0{height:100%}._f1{min-width:25%}._f2{padding:0 16px 0 16px}._f3{display:inline-block}._f4{transform:translateY(1px)}._f5{border-top:1px #E8E8E8 solid}._f6{padding-top:32px}._f7{padding-bottom:32px}._fb{-webkit-box-align:start;align-items:flex-start}._fc{-webkit-box-align:end;align-items:flex-end}</style><style class="styletron-global" media="only screen and (min-width: 1281px)">._ax{padding-left:16vw}._ay{padding-right:16vw}</style><style class="styletron-global" media="only screen and (max-width: 575px)">._at{padding-left:16px}._au{padding-right:16px}._bb{display:none!important}._be{width:100%}._cb{box-sizing:border-box}._cc{padding:16px 0 16px 0}._cd{border-bottom:1px #EDEDED solid}._cj{display:none !important}._cs{position:relative}._ct{padding:5px}._cu{border-top:none}._cv{color:#fff}._cw{left:20px}._cx{line-height:25px}._cy{margin-bottom:-13px}._d3{padding:0 0 0 0}._d4{-ms-grid-row-align:center;align-self:center}._d6{display:flex!important}._f8{font-size:12px}._f9{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}._fa{-webkit-box-align:start;align-items:flex-start}</style>
    <script id="json-globals" type="application/json">{"state":{"base":{"analytics":{"googleTid":"UA-43072488-1"},"csrfToken":"7WE2QZXW-cGy5DWTZ1mJyf37T1cn3AKvktBo","routePrefix":"","cdnBase":"https:\u002F\u002Fweb-guiguio.b-cdn.net","translations":{"auth\u002Fbutton_submit":"Submit","auth\u002Fconsent":"By clicking \"SUBMIT\", you agree to TianPan.co's \u003Ca href=\"${tosUrl}\"\u003ETerms of Use\u003C\u002Fa\u003E and acknowledge you have read the \u003Ca href=\"${policyUrl}\"\u003EPrivacy Policy\u003C\u002Fa\u003E.","auth\u002Femail-already-in-use":"Email is already in use","auth\u002Fforgot_password.back":"← Back to Login","auth\u002Fforgot_password.desc":"Enter the email address associated with your account, and we’ll email you a link to reset your password.","auth\u002Fforgot_password.email_content":"Hi, we’ve received a request to reset your password. If you didn’t make the request, just ignore this message. Otherwise, you can reset your password using the following link - ${link}.","auth\u002Fforgot_password.email_title":"Reset your Password","auth\u002Fforgot_password.email_cta":"RESET YOUR PASSWORD","auth\u002Fforgot_password.email_token_failure":"Your request to reset password has already expired. Please try again.","auth\u002Fforgot_password.send":"SEND RESET LINK","auth\u002Fforgot_password.sent":"A link to reset your password has been sent to ${email}.","auth\u002Fforgot_password":"Forgot Password","auth\u002Finvalid-email":"Email is invalid","auth\u002Freset_password.desc":"Your password needs to have at least one symbol or number, and have at least 6 characters.","auth\u002Freset_password.success":"Your password has been updated.","auth\u002Freset_password":"Reset password","auth\u002Fsign_in.forgot_password":"Forgot password? Reset","auth\u002Fsign_in.switch_to_sign_up":"Don’t have an account? Sign up","auth\u002Fsign_in.title":"Sign In","auth\u002Fsign_up.switch_to_sign_in":"Already have an account? Log in","auth\u002Fuser-disabled":"User is banned","auth\u002Fuser-not-found":"User is not found","auth\u002Fweak-password":"Please use at least 8 characters as the password","auth\u002Fwrong-password":"Password is incorrect","auth\u002Fpassword":"Password","auth\u002Fnew-password":"New Password","follow_me":"\u003Cp\u003EIf you find this article helpful\u003C\u002Fp\u003E  \u003Cp\u003E\u003Ca href='${link}' rel='noopener noreferrer' target='_blank'\u003Efollow me on ${platform} :)\u003C\u002Fa\u003E\u003C\u002Fp\u003E","footer.author":"© ${year} Tian","footer.built_with_love":"Built with \u003Cspan style=\"font-size: 12px; color: #F27788;\"\u003E♥\u003C\u002Fspan\u003E in San Francisco","last_updated":"Last Updated ${updateDate}","meta.description":"Startup Engineering","meta.title":"TianPan.co","not_found.bar":"Not Found","not_found.info":"We cannot find the page for you...","not_found.title":"Oops!","original-post":"Original Post","pay.donate.desc":"support Tian to deliver more for you.","pay.donate.paragraph":"If you like our articles, please donate me a cup of coffee :)","pay.donate.with_card":"Donate with Card","pay.donate":"$ Donate","pay.customized_amount":"Customized Amount","pay.amount":"Amount","read-more":"More...","subscribe":"subscribe","tap_to_search":"Tap to search...","thank_you":"Thank you!","topbar.about":"ABOUT","topbar.forum":"FORUM","topbar.blogs":"BLOGS","topbar.brand":"TianPan.co","topbar.latest":"Notes","topbar.home":"HOME","topbar.topics":"TOPICS","newsletter.title":"Newsletter","newsletter.desc":" ","app.title":"Download TianPan.co App","app.desc":"Learn startup engineering anywhere, anytime","app.download_apk":"Download APK","app.app_store":"https:\u002F\u002Fapps.apple.com\u002Fus\u002Fapp\u002Ftianpan-co\u002Fid1492596286","app.play_store":"https:\u002F\u002Fplay.google.com\u002Fstore\u002Fapps\u002Fdetails?id=co.tianpan.mobile","app.apk":"https:\u002F\u002Fapi.github.com\u002Frepos\u002Fpuncsky\u002Fandroid-tianpanco-release\u002Freleases\u002Flatest","app.qr":".\u002Fdownload-tianpanco-app.png","sb.add_note":"Add note","sb.edit_note":"Edit note","sb.field.note_placeholder":"Type here to edit...","sb.required":"Points required","sb.title":"Safe box for your notes","sb.desc":"Add a note here and get a snippet you can embed in your forum post. Why? It requires readers to have certain contribution points to view your precious contents!","sb.delete":"Delete","sb.field.delete_note.title":"Could you confirm to delete？","sb.yes":"Yes","sb.cancel":"Cancel","sb.edit":"Edit","sb.copy":"Copy the below to your forum post"},"locale":"en","supportedLocales":["en","zh-cn"],"manifest":{"blog-client-main.js":"blog-client-main-1d5e7fad2cd82dd1a2d3.js","identity-provider-main.js":"identity-provider-main-77f1f83f47e323d916cb.js","blog-client-main-1d5e7fad2cd82dd1a2d3.js.LICENSE.txt":"blog-client-main-1d5e7fad2cd82dd1a2d3.js.LICENSE.txt","identity-provider-main-77f1f83f47e323d916cb.js.LICENSE.txt":"identity-provider-main-77f1f83f47e323d916cb.js.LICENSE.txt"},"userId":null,"stripePubKey":"pk_live_kGONLU2KUCmqznVUmradZEUe","url":"https:\u002F\u002Ftianpan.co\u002Fnotes\u002F120-designing-uber","apiGatewayUrl":"https:\u002F\u002Ftianpan.co\u002Fapi-gateway\u002F"},"apolloState":{"TocItem:system-design-in-practice":{"title":"System Design in Practice","id":"system-design-in-practice","children":[{"type":"id","generated":false,"id":"TocItem:2016-02-13-crack-the-system-design-interview","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:120-designing-uber","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:49-facebook-tao","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:45-how-to-design-netflix-view-state-service","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:43-how-to-design-robust-and-predictable-apis-with-idempotency","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:38-how-to-stream-video-over-http","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:61-what-is-apache-kafka","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:84-designing-a-url-shortener","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:97-designing-a-kv-store-with-external-storage","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:174-designing-memcached","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:121-designing-facebook-photo-storage","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:161-designing-stock-exchange","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:162-designing-smart-notification-of-stock-price-changes","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:167-designing-paypal-money-transfer","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:166-designing-payment-webhook","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:168-designing-a-metric-system","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:140-designing-a-recommendation-system","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:177-designing-Airbnb-or-a-hotel-booking-system","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:178-lyft-marketing-automation-symphony","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:179-designing-typeahead-search-or-autocomplete","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:182-designing-l7-load-balancer","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:136-fraud-detection-with-semi-supervised-learning","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:236-credit-card-processing-system","typename":"TocItem"}],"__typename":"TocItem"},"TocItem:2016-02-13-crack-the-system-design-interview":{"title":"Crack the System Design Interview","id":"2016-02-13-crack-the-system-design-interview","__typename":"TocItem"},"TocItem:120-designing-uber":{"title":"Designing Uber","id":"120-designing-uber","__typename":"TocItem"},"TocItem:49-facebook-tao":{"title":"Designing Facebook Social Graph Store","id":"49-facebook-tao","__typename":"TocItem"},"TocItem:45-how-to-design-netflix-view-state-service":{"title":"Designing Netflix Viewing Data","id":"45-how-to-design-netflix-view-state-service","__typename":"TocItem"},"TocItem:43-how-to-design-robust-and-predictable-apis-with-idempotency":{"title":"Designing idempotent APIs","id":"43-how-to-design-robust-and-predictable-apis-with-idempotency","__typename":"TocItem"},"TocItem:38-how-to-stream-video-over-http":{"title":"Designing video streaming over HTTP","id":"38-how-to-stream-video-over-http","__typename":"TocItem"},"TocItem:61-what-is-apache-kafka":{"title":"What is Apache Kafka?","id":"61-what-is-apache-kafka","__typename":"TocItem"},"TocItem:84-designing-a-url-shortener":{"title":"Designing a URL shortener","id":"84-designing-a-url-shortener","__typename":"TocItem"},"TocItem:97-designing-a-kv-store-with-external-storage":{"title":"Designing a KV store with external storage","id":"97-designing-a-kv-store-with-external-storage","__typename":"TocItem"},"TocItem:174-designing-memcached":{"title":"Designing a distributed in-memory KV store or Memcached","id":"174-designing-memcached","__typename":"TocItem"},"TocItem:121-designing-facebook-photo-storage":{"title":"Designing Facebook photo storage","id":"121-designing-facebook-photo-storage","__typename":"TocItem"},"TocItem:161-designing-stock-exchange":{"title":"Designing Stock Exchange","id":"161-designing-stock-exchange","__typename":"TocItem"},"TocItem:162-designing-smart-notification-of-stock-price-changes":{"title":"Designing Smart Notification of Stock Price Changes","id":"162-designing-smart-notification-of-stock-price-changes","__typename":"TocItem"},"TocItem:167-designing-paypal-money-transfer":{"title":"Designing Square Cash or PayPal Money Transfer System","id":"167-designing-paypal-money-transfer","__typename":"TocItem"},"TocItem:166-designing-payment-webhook":{"title":"Designing payment webhook","id":"166-designing-payment-webhook","__typename":"TocItem"},"TocItem:168-designing-a-metric-system":{"title":"Designing a metric system","id":"168-designing-a-metric-system","__typename":"TocItem"},"TocItem:140-designing-a-recommendation-system":{"title":"Designing a recommendation system","id":"140-designing-a-recommendation-system","__typename":"TocItem"},"TocItem:177-designing-Airbnb-or-a-hotel-booking-system":{"title":"Designing Airbnb or a hotel booking system","id":"177-designing-Airbnb-or-a-hotel-booking-system","__typename":"TocItem"},"TocItem:178-lyft-marketing-automation-symphony":{"title":"Lyft's Marketing Automation Platform -- Symphony","id":"178-lyft-marketing-automation-symphony","__typename":"TocItem"},"TocItem:179-designing-typeahead-search-or-autocomplete":{"title":"Designing typeahead search or autocomplete","id":"179-designing-typeahead-search-or-autocomplete","__typename":"TocItem"},"TocItem:182-designing-l7-load-balancer":{"title":"Designing a Load Balancer or Dropbox Bandaid","id":"182-designing-l7-load-balancer","__typename":"TocItem"},"TocItem:136-fraud-detection-with-semi-supervised-learning":{"title":"Fraud Detection with Semi-supervised Learning","id":"136-fraud-detection-with-semi-supervised-learning","__typename":"TocItem"},"TocItem:236-credit-card-processing-system":{"title":"Credit Card Processing System","id":"236-credit-card-processing-system","__typename":"TocItem"},"TocItem:system-design-theories":{"title":"System Design Theories","id":"system-design-theories","children":[{"type":"id","generated":false,"id":"TocItem:145-introduction-to-architecture","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:41-how-to-scale-a-web-service","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:2018-07-26-acid-vs-base","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:2018-07-21-data-partition-and-routing","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:2018-07-24-replica-and-consistency","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:2018-07-23-load-balancer-types","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:181-concurrency-models","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:85-improving-availability-with-failover","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:68-bloom-filter","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:69-skiplist","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:2018-07-22-b-tree-vs-b-plus-tree","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:80-relational-database","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:78-four-kinds-of-no-sql","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:122-key-value-cache","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:137-stream-and-batch-processing","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:2018-07-10-cloud-design-patterns","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:66-public-api-choices","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:83-lambda-architecture","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:123-ios-architecture-patterns-revisited","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:63-soft-skills-interview","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:2018-07-20-experience-deep-dive","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:11-three-programming-paradigms","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:12-solid-design-principles","typename":"TocItem"}],"__typename":"TocItem"},"TocItem:145-introduction-to-architecture":{"title":"Introduction to Architecture","id":"145-introduction-to-architecture","__typename":"TocItem"},"TocItem:41-how-to-scale-a-web-service":{"title":"How to scale a web service?","id":"41-how-to-scale-a-web-service","__typename":"TocItem"},"TocItem:2018-07-26-acid-vs-base":{"title":"ACID vs BASE","id":"2018-07-26-acid-vs-base","__typename":"TocItem"},"TocItem:2018-07-21-data-partition-and-routing":{"title":"Data Partition and Routing","id":"2018-07-21-data-partition-and-routing","__typename":"TocItem"},"TocItem:2018-07-24-replica-and-consistency":{"title":"Replica, Consistency, and CAP theorem","id":"2018-07-24-replica-and-consistency","__typename":"TocItem"},"TocItem:2018-07-23-load-balancer-types":{"title":"Load Balancer Types","id":"2018-07-23-load-balancer-types","__typename":"TocItem"},"TocItem:181-concurrency-models":{"title":"Concurrency Model","id":"181-concurrency-models","__typename":"TocItem"},"TocItem:85-improving-availability-with-failover":{"title":"Improving availability with failover","id":"85-improving-availability-with-failover","__typename":"TocItem"},"TocItem:68-bloom-filter":{"title":"Bloom Filter","id":"68-bloom-filter","__typename":"TocItem"},"TocItem:69-skiplist":{"title":"Skiplist","id":"69-skiplist","__typename":"TocItem"},"TocItem:2018-07-22-b-tree-vs-b-plus-tree":{"title":"B tree vs. B+ tree","id":"2018-07-22-b-tree-vs-b-plus-tree","__typename":"TocItem"},"TocItem:80-relational-database":{"title":"Intro to Relational Database","id":"80-relational-database","__typename":"TocItem"},"TocItem:78-four-kinds-of-no-sql":{"title":"4 Kinds of No-SQL","id":"78-four-kinds-of-no-sql","__typename":"TocItem"},"TocItem:122-key-value-cache":{"title":"Key value cache","id":"122-key-value-cache","__typename":"TocItem"},"TocItem:137-stream-and-batch-processing":{"title":"Stream and Batch Processing Frameworks","id":"137-stream-and-batch-processing","__typename":"TocItem"},"TocItem:2018-07-10-cloud-design-patterns":{"title":"Cloud Design Patterns","id":"2018-07-10-cloud-design-patterns","__typename":"TocItem"},"TocItem:66-public-api-choices":{"title":"Public API Choices","id":"66-public-api-choices","__typename":"TocItem"},"TocItem:83-lambda-architecture":{"title":"Lambda Architecture","id":"83-lambda-architecture","__typename":"TocItem"},"TocItem:123-ios-architecture-patterns-revisited":{"title":"iOS Architecture Patterns Revisited","id":"123-ios-architecture-patterns-revisited","__typename":"TocItem"},"TocItem:63-soft-skills-interview":{"title":"What can we communicate in soft skills interview?","id":"63-soft-skills-interview","__typename":"TocItem"},"TocItem:2018-07-20-experience-deep-dive":{"title":"Experience Deep Dive","id":"2018-07-20-experience-deep-dive","__typename":"TocItem"},"TocItem:11-three-programming-paradigms":{"title":"3 Programming Paradigms","id":"11-three-programming-paradigms","__typename":"TocItem"},"TocItem:12-solid-design-principles":{"title":"SOLID Design Principles","id":"12-solid-design-principles","__typename":"TocItem"},"ROOT_QUERY":{"toc({\"id\":\"120-designing-uber\"})":[{"type":"id","generated":false,"id":"TocItem:system-design-in-practice","typename":"TocItem"},{"type":"id","generated":false,"id":"TocItem:system-design-theories","typename":"TocItem"}],"article({\"id\":\"120-designing-uber\"})":{"type":"id","generated":false,"id":"RecArticle:120-designing-uber","typename":"RecArticle"}},"RecArticle:120-designing-uber":{"id":"120-designing-uber","url":"https:\u002F\u002Ftianpan.co\u002Fnotes\u002F120-designing-uber","title":"Designing Uber","date":"2019-01-03 18:39","visitorCount":58860,"short":null,"isFave":false,"contentHTML":"\u003Cp\u003EDisclaimer: All things below are collected from public sources or purely original. No Uber-confidential stuff here.\u003C\u002Fp\u003E\n\u003Ch2 id=\"requirements\"\u003ERequirements \u003Ca class=\"markdownIt-Anchor\" href=\"#requirements\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003Eride hailing service targeting the transportation markets around the world\u003C\u002Fli\u003E\n\u003Cli\u003Erealtime dispatch in massive scale\u003C\u002Fli\u003E\n\u003Cli\u003Ebackend design\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"architecture\"\u003EArchitecture \u003Ca class=\"markdownIt-Anchor\" href=\"#architecture\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fres.cloudinary.com\u002Fdohtidfqh\u002Fimage\u002Fupload\u002Fv1546574738\u002Fweb-guiguio\u002Fuber-architecture_2.jpg\" alt=\"uber architecture\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"why-micro-services\"\u003EWhy micro services? \u003Ca class=\"markdownIt-Anchor\" href=\"#why-micro-services\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cmark\u003EConway’s law\u003C\u002Fmark\u003E says structures of software systems are copies of the organization structures.\u003C\u002Fp\u003E\n\u003Ctable\u003E\n\u003Cthead\u003E\n\u003Ctr\u003E\n\u003Cth\u003E\u003C\u002Fth\u003E\n\u003Cth\u003EMonolithic \u003Cmark\u003EService\u003C\u002Fmark\u003E\u003C\u002Fth\u003E\n\u003Cth\u003EMicro Services\u003C\u002Fth\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Fthead\u003E\n\u003Ctbody\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EProductivity, when teams and codebases are small\u003C\u002Ftd\u003E\n\u003Ctd\u003E✅ High\u003C\u002Ftd\u003E\n\u003Ctd\u003E❌ Low\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cmark\u003EProductivity, when teams and codebases are large\u003C\u002Fmark\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E❌ Low\u003C\u002Ftd\u003E\n\u003Ctd\u003E✅ High (Conway’s law)\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003E\u003Cmark\u003ERequirements on Engineering Quality\u003C\u002Fmark\u003E\u003C\u002Ftd\u003E\n\u003Ctd\u003E❌ High (under-qualified devs break down the system easily)\u003C\u002Ftd\u003E\n\u003Ctd\u003E✅ Low (runtimes are segregated)\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EDependency Bump\u003C\u002Ftd\u003E\n\u003Ctd\u003E✅ Fast (centrally managed)\u003C\u002Ftd\u003E\n\u003Ctd\u003E❌ Slow\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EMulti-tenancy support \u002F Production-staging Segregation\u003C\u002Ftd\u003E\n\u003Ctd\u003E✅ Easy\u003C\u002Ftd\u003E\n\u003Ctd\u003E❌ Hard (each individual service has to either 1) build staging env connected to others in staging 2) Multi-tenancy support across the request contexts and data storage)\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EDebuggability, assuming same modules, metrics, logs\u003C\u002Ftd\u003E\n\u003Ctd\u003E❌ Low\u003C\u002Ftd\u003E\n\u003Ctd\u003E✅ High (w\u002F distributed tracing)\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003ELatency\u003C\u002Ftd\u003E\n\u003Ctd\u003E✅ Low (local)\u003C\u002Ftd\u003E\n\u003Ctd\u003E❌ High (remote)\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003Ctr\u003E\n\u003Ctd\u003EDevOps Costs\u003C\u002Ftd\u003E\n\u003Ctd\u003E✅ Low (High on building tools)\u003C\u002Ftd\u003E\n\u003Ctd\u003E❌ High (capacity planning is hard)\u003C\u002Ftd\u003E\n\u003C\u002Ftr\u003E\n\u003C\u002Ftbody\u003E\n\u003C\u002Ftable\u003E\n\u003Cp\u003ECombining monolithic \u003Cmark\u003Ecodebase\u003C\u002Fmark\u003E and micro services can bring benefits from both sides.\u003C\u002Fp\u003E\n\u003Ch2 id=\"dispatch-service\"\u003EDispatch Service \u003Ca class=\"markdownIt-Anchor\" href=\"#dispatch-service\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003Econsistent hashing sharded by geohash\u003C\u002Fli\u003E\n\u003Cli\u003Edata is transient, in memory, and thus there is no need to replicate. (CAP: AP over CP)\u003C\u002Fli\u003E\n\u003Cli\u003Esingle-threaded or locked matching in a shard to prevent double dispatching\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"payment-service\"\u003EPayment Service \u003Ca class=\"markdownIt-Anchor\" href=\"#payment-service\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cmark\u003EThe key is to have an async design\u003C\u002Fmark\u003E, because payment systems usually have a very long latency for ACID transactions across multiple systems.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003Eleverage event queues\u003C\u002Fli\u003E\n\u003Cli\u003Epayment gateway w\u002F Braintree, PayPal, \u003Ca href=\"http:\u002F\u002FCard.io\"\u003ECard.io\u003C\u002Fa\u003E, Alipay, etc.\u003C\u002Fli\u003E\n\u003Cli\u003Elogging intensively to track everything\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fpuncsky.com\u002Fnotes\u002F43-how-to-design-robust-and-predictable-apis-with-idempotency\"\u003EAPIs with idempotency, exponential backoff, and random jitter\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"userprofile-service-and-trip-service\"\u003EUserProfile Service and Trip Service \u003Ca class=\"markdownIt-Anchor\" href=\"#userprofile-service-and-trip-service\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003Elow latency with caching\u003C\u002Fli\u003E\n\u003Cli\u003EUserProfile Service has the challenge to serve users in increasing types (driver, rider, restaurant owner, eater, etc) and user schemas in different regions and countries.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"push-notification-service\"\u003EPush Notification Service \u003Ca class=\"markdownIt-Anchor\" href=\"#push-notification-service\"\u003E\u003Cspan class=\"markdownIt-Link-Anchor\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003EApple Push Notifications Service (not quite reliable)\u003C\u002Fli\u003E\n\u003Cli\u003EGoogle Cloud Messaging Service GCM （it can detect the deliverability) or\u003C\u002Fli\u003E\n\u003Cli\u003ESMS service is usually more reliable\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n","references":{"type":"json","json":["https:\u002F\u002Fmedium.com\u002Fyalantis-mobile\u002Fuber-underlying-technologies-and-how-it-actually-works-526f55b37c6f","https:\u002F\u002Fwww.youtube.com\u002Fwatch?t=116&v=vujVmugFsKc","http:\u002F\u002Fwww.infoq.com\u002Fnews\u002F2015\u002F03\u002Fuber-realtime-market-platform","https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=kb-m2fasdDY&vl=en"]},"updateDate":null,"comments":true,"categories":"system design","filename":"120-designing-uber.md","slides":true,"audio":null,"__typename":"RecArticle"}}}}</script>
    <script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","name":"Designing Uber - 硅谷io","url":"https://tianpan.co/notes/120-designing-uber","description":null,"author":{"@type":"Person","name":"t"}},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"name":"Designing Uber - 硅谷io","@id":"https://tianpan.co/notes/120-designing-uber"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://tianpan.co/notes/120-designing-uber","name":"Designing Uber - 硅谷io","headline":"Designing Uber - 硅谷io","keywords":["system design"],"description":null,"author":{"@type":"Person","name":"t"},"image":{"@type":"ImageObject"},"publisher":{"@type":"Organization","url":"https://puncsky.co","logo":{"@type":"ImageObject","url":"https://puncsky.co/favicon.png"},"name":"TianPan.co"},"mainEntityOfPage":{"@type":"WebSite","@id":"https://puncsky.com"},"datePublished":"2019-01-03 18:39","dateModified":null}]</script><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","name":"Designing Uber - TianPan.co","url":"https://tianpan.co/notes/120-designing-uber","description":null,"author":{"@type":"Person","name":"t"}},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"name":"Designing Uber - TianPan.co","@id":"https://tianpan.co/notes/120-designing-uber"}}]},{"@context":"http://schema.org","@type":"BlogPosting","url":"https://tianpan.co/notes/120-designing-uber","name":"Designing Uber - TianPan.co","headline":"Designing Uber - TianPan.co","keywords":["system design"],"description":null,"author":{"@type":"Person","name":"t"},"image":{"@type":"ImageObject"},"publisher":{"@type":"Organization","url":"https://puncsky.co","logo":{"@type":"ImageObject","url":"https://puncsky.co/favicon.png"},"name":"TianPan.co"},"mainEntityOfPage":{"@type":"WebSite","@id":"https://puncsky.com"},"datePublished":"2019-01-03 18:39","dateModified":null}]</script>
  </head>
  <body>
    <div id='root'><div class="_ae _af _ag"><div><div class="_ah _ai _aj _ak _al _am _an _ao _ap _aq _ar _as _at _au _av _aw _ax _ay _az _b0"><div class="_ai _ah _az"><a href="/" class="_b1 _am"><svg xmlns="http://www.w3.org/2000/svg" width="52px" viewBox="0 0 52 52"><defs><style>.guiguio-cls-1{fill:#de4c4f;}.guiguio-cls-2{fill:#fff;}</style></defs><g id="Layer_2" data-name="Layer 2"><g id="App_Icon_Kit_A" data-name="App Icon Kit A"><rect class="guiguio-cls-1" width="52" height="52"></rect><circle class="guiguio-cls-2" cx="28.29" cy="11.21" r="5.08"></circle><path class="guiguio-cls-2" d="M15.65,21.51c-.22.54,1.27,1.25,3.51,4A6.08,6.08,0,0,1,20.87,29a5,5,0,0,1-.19,1.56c-1.05,3.53-12.22,12.56-12,13s9.05-2.83,12.65-5.47c.33-.24,1.35-1,1.91-.68s.38,1.38.29,2c-.57,4.29-1.74,6.9-1.42,7.13.5.34,5.52-4.18,9.72-11.92,5.61-10.32,7.06-21,6-21.39-.38-.13-.78,1.16-3,3.18a17.24,17.24,0,0,1-5,3.32,18.48,18.48,0,0,1-5,1.22,36.2,36.2,0,0,1-4.59.29C17,21.35,15.84,21,15.65,21.51Z"></path></g></g></svg></a><div class="_b2"></div><a href="/" class="_b3 _ao _b4 _b5 _b6 _b7 _b8 _b9 ">TianPan.co</a></div><div class="_ai _ah _az"><div class="_ba _bb"><form method="get" title="Search Form" action="https://cse.google.com/cse/publicurl" class="_ah _ai _bc _bd _be"><input type="text" placeholder="Tap to search..." color="#ffffff" id="q" name="q" title="Search this site" alt="Search Text" maxLength="256" style="background:#2E3235" class="_bf _bg _bh _bi _bj _bk _bl _bm _bn _bo _ae _bp _bq _br _bs _bt _az _bu _bv"/><input type="hidden" id="cx" name="cx" value="016505887920494609027:tmtfemzve-8"/><div><button class="_bw _bx _by _bz _bi _c0 _c1 _c2 _c3 _c4 _bp _bq _c5 _c6 _c7 _az _bf _c8 _c9"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Search" fill="currentColor" viewBox="0 0 24 24" width="18" height="18"><path d="M17.068 15.58a8.377 8.377 0 0 0 1.774-5.159 8.421 8.421 0 1 0-8.42 8.421 8.38 8.38 0 0 0 5.158-1.774l3.879 3.88c.957.573 2.131-.464 1.488-1.49l-3.879-3.878zm-6.647 1.157a6.323 6.323 0 0 1-6.316-6.316 6.323 6.323 0 0 1 6.316-6.316 6.323 6.323 0 0 1 6.316 6.316 6.323 6.323 0 0 1-6.316 6.316z" fill-rule="evenodd"></path></svg></span></button></div></form><a class="_b3 _ao _ca _b5 _b6 _b7 _b8 _b9 _cb _be _cc _cd">TOPICS<i class="fas fa-caret-down _ce _cf _cg _ch _ci _cj"></i><div style="opacity:0;display:none" class="_ck _an _cf _cl _cm _cn _co _cp _cq _cr _cs _ct _cu _cv _cw _cx _cy"><i class="fas fa-caret-up _ce _cf _cg _ch _ci _cj"></i><a href="/notes/2016-02-13-crack-the-system-design-interview/" class="_ao _cz _b5 _d0 _b6 _b8 _b9 _cb _be _ct">System Design and Architecture</a><a href="/notes/" class="_ao _cz _b5 _d0 _b6 _b8 _b9 _cb _be _ct">Notes</a><a href="/hacking-the-software-engineer-interview/" class="_ao _cz _b5 _d0 _b6 _b8 _b9 _cb _be _ct">Hacking Software Engineer Interview</a><a href="/blogs" class="_ao _cz _b5 _d0 _b6 _b8 _b9 _cb _be _ct">BLOGS</a><a href="/book-rankings/" class="_ao _cz _b5 _d0 _b6 _b8 _b9 _cb _be _ct">Tian&#x27;s Book Rankings</a><a href="/onefx/" class="_ao _cz _b5 _d0 _b6 _b8 _b9 _cb _be _ct">Building web apps with OneFx</a></div></a><a href="/forum/" class="_b3 _ao _ca _b5 _b6 _b7 _b8 _b9 _cb _be _cc _cd">FORUM</a><a href="/about/" class="_b3 _ao _ca _b5 _b6 _b7 _b8 _b9 _cb _be _cc _cd">ABOUT</a><a class="_b3 _ao _ca _b5 _b6 _b7 _b8 _b9 _cb _be _cc _cd"><i class="fas fa-language _d1 _d2 _d3 _d4"></i><div style="opacity:0;display:none" class="_ck _an _cf _cl _cm _cn _co _cp _cq _cr _cs _ct _cu _cv _cw _cx _cy"><i class="fas fa-caret-up _ce _cf _cg _ch _ci _cj"></i><a href="https://puncsky.com/?locale=en" class="_ao _cz _b5 _d0 _b6 _b8 _b9 _cb _be _ct">English</a><a href="https://guigu.io/?locale=zh-cn" class="_ao _cz _b5 _d0 _b6 _b8 _b9 _cb _be _ct">中文</a></div></a></div></div><div class="_b6 _d5 _d6 _b3 _d7"><svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><div class="_b6 _d5 _bb _b3 _d7 _d8"><svg width="20" height="20" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Icons" stroke="currentColor" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Utils" transform="translate(-380.000000, -100.000000)" fill="currentColor"><g id="icons" transform="translate(20.000000, 20.000000)"><polygon id="close-[#1511]" points="371.4489 89.9997 380.0029 98.5537 378.5559 99.9997 370.0029 91.4457 361.4489 99.9997 360.0029 98.5537 368.5559 89.9997 360.0029 81.4457 361.4489 79.9997 370.0029 88.5537 378.5559 79.9997 380.0029 81.4457"></polygon></g></g></g></svg></div></div><div class="_d0 _d9 _an"></div></div><div><div style="background-color:#fff;width:100%"><div class="_ar _at _au _av _aw _ax _ay"><div class="_ah _da _ai _d7 _db _az _dc _dd _ak _ar _de _df"><div style="max-width:1320px;width:100%"><div class="ant-row" style="margin-left:-8px;margin-right:-8px"><div style="padding-left:8px;padding-right:8px" class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-6 ant-col-lg-6"><div><div class=""><section id="hover-overflow" class="_dg _dh _di _dj"><ul class="ant-menu ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open ant-menu-submenu-selected" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="system-design-in-practice$Menu" aria-haspopup="true"><span>System Design in Practice</span><i class="ant-menu-submenu-arrow"></i></div><ul id="system-design-in-practice$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li id="m-2016-02-13-crack-the-system-design-interview" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/2016-02-13-crack-the-system-design-interview">Crack the System Design Interview</a></li><li id="m-120-designing-uber" class="ant-menu-item ant-menu-item-only-child ant-menu-item-selected" role="menuitem" style="padding-left:48px"><a href="/notes/120-designing-uber">Designing Uber</a></li><li id="m-49-facebook-tao" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/49-facebook-tao">Designing Facebook Social Graph Store</a></li><li id="m-45-how-to-design-netflix-view-state-service" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/45-how-to-design-netflix-view-state-service">Designing Netflix Viewing Data</a></li><li id="m-43-how-to-design-robust-and-predictable-apis-with-idempotency" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/43-how-to-design-robust-and-predictable-apis-with-idempotency">Designing idempotent APIs</a></li><li id="m-38-how-to-stream-video-over-http" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/38-how-to-stream-video-over-http">Designing video streaming over HTTP</a></li><li id="m-61-what-is-apache-kafka" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/61-what-is-apache-kafka">What is Apache Kafka?</a></li><li id="m-84-designing-a-url-shortener" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/84-designing-a-url-shortener">Designing a URL shortener</a></li><li id="m-97-designing-a-kv-store-with-external-storage" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/97-designing-a-kv-store-with-external-storage">Designing a KV store with external storage</a></li><li id="m-174-designing-memcached" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/174-designing-memcached">Designing a distributed in-memory KV store or Memcached</a></li><li id="m-121-designing-facebook-photo-storage" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/121-designing-facebook-photo-storage">Designing Facebook photo storage</a></li><li id="m-161-designing-stock-exchange" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/161-designing-stock-exchange">Designing Stock Exchange</a></li><li id="m-162-designing-smart-notification-of-stock-price-changes" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/162-designing-smart-notification-of-stock-price-changes">Designing Smart Notification of Stock Price Changes</a></li><li id="m-167-designing-paypal-money-transfer" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/167-designing-paypal-money-transfer">Designing Square Cash or PayPal Money Transfer System</a></li><li id="m-166-designing-payment-webhook" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/166-designing-payment-webhook">Designing payment webhook</a></li><li id="m-168-designing-a-metric-system" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/168-designing-a-metric-system">Designing a metric system</a></li><li id="m-140-designing-a-recommendation-system" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/140-designing-a-recommendation-system">Designing a recommendation system</a></li><li id="m-177-designing-Airbnb-or-a-hotel-booking-system" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/177-designing-Airbnb-or-a-hotel-booking-system">Designing Airbnb or a hotel booking system</a></li><li id="m-178-lyft-marketing-automation-symphony" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/178-lyft-marketing-automation-symphony">Lyft&#x27;s Marketing Automation Platform -- Symphony</a></li><li id="m-179-designing-typeahead-search-or-autocomplete" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/179-designing-typeahead-search-or-autocomplete">Designing typeahead search or autocomplete</a></li><li id="m-182-designing-l7-load-balancer" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/182-designing-l7-load-balancer">Designing a Load Balancer or Dropbox Bandaid</a></li><li id="m-136-fraud-detection-with-semi-supervised-learning" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/136-fraud-detection-with-semi-supervised-learning">Fraud Detection with Semi-supervised Learning</a></li><li id="m-236-credit-card-processing-system" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/236-credit-card-processing-system">Credit Card Processing System</a></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:24px" class="ant-menu-submenu-title" role="button" aria-expanded="true" aria-owns="system-design-theories$Menu" aria-haspopup="true"><span>System Design Theories</span><i class="ant-menu-submenu-arrow"></i></div><ul id="system-design-theories$Menu" class="ant-menu ant-menu-sub ant-menu-inline" role="menu"><li id="m-145-introduction-to-architecture" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/145-introduction-to-architecture">Introduction to Architecture</a></li><li id="m-41-how-to-scale-a-web-service" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/41-how-to-scale-a-web-service">How to scale a web service?</a></li><li id="m-2018-07-26-acid-vs-base" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/2018-07-26-acid-vs-base">ACID vs BASE</a></li><li id="m-2018-07-21-data-partition-and-routing" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/2018-07-21-data-partition-and-routing">Data Partition and Routing</a></li><li id="m-2018-07-24-replica-and-consistency" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/2018-07-24-replica-and-consistency">Replica, Consistency, and CAP theorem</a></li><li id="m-2018-07-23-load-balancer-types" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/2018-07-23-load-balancer-types">Load Balancer Types</a></li><li id="m-181-concurrency-models" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/181-concurrency-models">Concurrency Model</a></li><li id="m-85-improving-availability-with-failover" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/85-improving-availability-with-failover">Improving availability with failover</a></li><li id="m-68-bloom-filter" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/68-bloom-filter">Bloom Filter</a></li><li id="m-69-skiplist" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/69-skiplist">Skiplist</a></li><li id="m-2018-07-22-b-tree-vs-b-plus-tree" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/2018-07-22-b-tree-vs-b-plus-tree">B tree vs. B+ tree</a></li><li id="m-80-relational-database" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/80-relational-database">Intro to Relational Database</a></li><li id="m-78-four-kinds-of-no-sql" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/78-four-kinds-of-no-sql">4 Kinds of No-SQL</a></li><li id="m-122-key-value-cache" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/122-key-value-cache">Key value cache</a></li><li id="m-137-stream-and-batch-processing" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/137-stream-and-batch-processing">Stream and Batch Processing Frameworks</a></li><li id="m-2018-07-10-cloud-design-patterns" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/2018-07-10-cloud-design-patterns">Cloud Design Patterns</a></li><li id="m-66-public-api-choices" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/66-public-api-choices">Public API Choices</a></li><li id="m-83-lambda-architecture" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/83-lambda-architecture">Lambda Architecture</a></li><li id="m-123-ios-architecture-patterns-revisited" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/123-ios-architecture-patterns-revisited">iOS Architecture Patterns Revisited</a></li><li id="m-63-soft-skills-interview" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/63-soft-skills-interview">What can we communicate in soft skills interview?</a></li><li id="m-2018-07-20-experience-deep-dive" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/2018-07-20-experience-deep-dive">Experience Deep Dive</a></li><li id="m-11-three-programming-paradigms" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/11-three-programming-paradigms">3 Programming Paradigms</a></li><li id="m-12-solid-design-principles" class="ant-menu-item ant-menu-item-only-child" role="menuitem" style="padding-left:48px"><a href="/notes/12-solid-design-principles">SOLID Design Principles</a></li></ul></li></ul></section></div></div></div><div style="padding-left:8px;padding-right:8px" class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-18 ant-col-lg-18"><div class="_ah _da _dk _d7 _db _az _dc _dd _ak _ar _de _df"><div class="_dl"></div><article class="_dm _ar _dn"><h1>Designing Uber</h1><span style="color:#B4B4B4;font-size:16px"><i class="fas fa-eye"></i> <!-- -->58860</span> <span style="color:#B4B4B4;font-size:16px"><i class="far fa-calendar-alt"></i> <!-- -->2019-01-03 18:39</span><div class="_dl"></div><div class="_ah _da _ai _do _dp _az _dc _dd _ak _ar _de _df"><div class="_b2"></div><a style="position:relative" rel="noopener noreferrer" target="_blank" href="/notes/120-designing-uber.md/slides"><i class="far fa-play-circle"></i> Slides</a><div class="_b2"></div><div style="position:relative"><a style="cursor:pointer" class="button"><i class="far fa-save"></i> <!-- -->Save</a></div><div class="_b2"></div><div style="position:relative"><a style="cursor:pointer" class="button"><i class="fas fa-share-alt"></i> Share</a></div></div><div><p>Disclaimer: All things below are collected from public sources or purely original. No Uber-confidential stuff here.</p>
<h2 id="requirements">Requirements <a class="markdownIt-Anchor" href="#requirements"><span class="markdownIt-Link-Anchor"></span></a></h2>
<ul>
<li>ride hailing service targeting the transportation markets around the world</li>
<li>realtime dispatch in massive scale</li>
<li>backend design</li>
</ul>
<h2 id="architecture">Architecture <a class="markdownIt-Anchor" href="#architecture"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p><img src="https://res.cloudinary.com/dohtidfqh/image/upload/v1546574738/web-guiguio/uber-architecture_2.jpg" alt="uber architecture"></p>
<h2 id="why-micro-services">Why micro services? <a class="markdownIt-Anchor" href="#why-micro-services"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p><mark>Conway’s law</mark> says structures of software systems are copies of the organization structures.</p>
<table>
<thead>
<tr>
<th></th>
<th>Monolithic <mark>Service</mark></th>
<th>Micro Services</th>
</tr>
</thead>
<tbody>
<tr>
<td>Productivity, when teams and codebases are small</td>
<td>✅ High</td>
<td>❌ Low</td>
</tr>
<tr>
<td><mark>Productivity, when teams and codebases are large</mark></td>
<td>❌ Low</td>
<td>✅ High (Conway’s law)</td>
</tr>
<tr>
<td><mark>Requirements on Engineering Quality</mark></td>
<td>❌ High (under-qualified devs break down the system easily)</td>
<td>✅ Low (runtimes are segregated)</td>
</tr>
<tr>
<td>Dependency Bump</td>
<td>✅ Fast (centrally managed)</td>
<td>❌ Slow</td>
</tr>
<tr>
<td>Multi-tenancy support / Production-staging Segregation</td>
<td>✅ Easy</td>
<td>❌ Hard (each individual service has to either 1) build staging env connected to others in staging 2) Multi-tenancy support across the request contexts and data storage)</td>
</tr>
<tr>
<td>Debuggability, assuming same modules, metrics, logs</td>
<td>❌ Low</td>
<td>✅ High (w/ distributed tracing)</td>
</tr>
<tr>
<td>Latency</td>
<td>✅ Low (local)</td>
<td>❌ High (remote)</td>
</tr>
<tr>
<td>DevOps Costs</td>
<td>✅ Low (High on building tools)</td>
<td>❌ High (capacity planning is hard)</td>
</tr>
</tbody>
</table>
<p>Combining monolithic <mark>codebase</mark> and micro services can bring benefits from both sides.</p>
<h2 id="dispatch-service">Dispatch Service <a class="markdownIt-Anchor" href="#dispatch-service"><span class="markdownIt-Link-Anchor"></span></a></h2>
<ul>
<li>consistent hashing sharded by geohash</li>
<li>data is transient, in memory, and thus there is no need to replicate. (CAP: AP over CP)</li>
<li>single-threaded or locked matching in a shard to prevent double dispatching</li>
</ul>
<h2 id="payment-service">Payment Service <a class="markdownIt-Anchor" href="#payment-service"><span class="markdownIt-Link-Anchor"></span></a></h2>
<p><mark>The key is to have an async design</mark>, because payment systems usually have a very long latency for ACID transactions across multiple systems.</p>
<ul>
<li>leverage event queues</li>
<li>payment gateway w/ Braintree, PayPal, <a href="http://Card.io">Card.io</a>, Alipay, etc.</li>
<li>logging intensively to track everything</li>
<li><a href="https://puncsky.com/notes/43-how-to-design-robust-and-predictable-apis-with-idempotency">APIs with idempotency, exponential backoff, and random jitter</a></li>
</ul>
<h2 id="userprofile-service-and-trip-service">UserProfile Service and Trip Service <a class="markdownIt-Anchor" href="#userprofile-service-and-trip-service"><span class="markdownIt-Link-Anchor"></span></a></h2>
<ul>
<li>low latency with caching</li>
<li>UserProfile Service has the challenge to serve users in increasing types (driver, rider, restaurant owner, eater, etc) and user schemas in different regions and countries.</li>
</ul>
<h2 id="push-notification-service">Push Notification Service <a class="markdownIt-Anchor" href="#push-notification-service"><span class="markdownIt-Link-Anchor"></span></a></h2>
<ul>
<li>Apple Push Notifications Service (not quite reliable)</li>
<li>Google Cloud Messaging Service GCM （it can detect the deliverability) or</li>
<li>SMS service is usually more reliable</li>
</ul>
</div><div><h2>Original Post</h2><ul><li><a href="https://medium.com/yalantis-mobile/uber-underlying-technologies-and-how-it-actually-works-526f55b37c6f" target="_blank" rel="noopener nofollower noreferrer">https://medium.com/yalantis-mobile/uber-underlying-technologies-and-how-it-actually-works-526f55b37c6f</a></li><li><a href="https://www.youtube.com/watch?t=116&amp;v=vujVmugFsKc" target="_blank" rel="noopener nofollower noreferrer">https://www.youtube.com/watch?t=116&amp;v=vujVmugFsKc</a></li><li><a href="http://www.infoq.com/news/2015/03/uber-realtime-market-platform" target="_blank" rel="noopener nofollower noreferrer">http://www.infoq.com/news/2015/03/uber-realtime-market-platform</a></li><li><a href="https://www.youtube.com/watch?v=kb-m2fasdDY&amp;vl=en" target="_blank" rel="noopener nofollower noreferrer">https://www.youtube.com/watch?v=kb-m2fasdDY&amp;vl=en</a></li></ul></div><div style="margin:36px 0;width:100%;text-align:center"><p>If you find this article helpful</p>  <p><a href='https://github.com/puncsky' rel='noopener noreferrer' target='_blank'>follow me on Github :)</a></p></div></article><div class="_dm _ar _dn"><div id="discourse-comments"></div></div><div class="_ah _da _dk _d7 _db _az _dc _dd _ak _dq _de _df"><div class="_b2"></div><div><button class="_bw _bx _by _bz _bi _c0 _c1 _c2 _c3 _c4 _bp _bq _c5 _c6 _c7 _az _bf _c8 _c9">$ Donate</button></div></div><div class="_b2"></div><div id="disqus_thread"></div><div class="_ah _da _dk _d7 _db _az _dc _dd _ak _dq _de _df"><div class="_b2"></div><div style="transform:perspective(1000px) rotateX(0deg) rotateY(0deg)" class="_dr _ar _ds _dt _az _du"><div class="_ah _ak _dk"><figure class="_dv _dw _dx _dy _ah _ak _d7 _b5 _dz _az"><img src="https://web-guiguio.b-cdn.net/./download-tianpanco-app.png"/></figure><h2 class="_e0 _e1 _e2 _e3 _e4 _e5 _e6 _e7 _e8">Download TianPan.co App</h2><p class="_e0 _e9 _e4 _ea _bc _dz">Learn startup engineering anywhere, anytime</p></div><div class="_ah _da _dk _aj _eb _az _dc _dd _ak _dq _de _df"><div class="_ah _ak _d7 _ec _dk"><a href="https://apps.apple.com/us/app/tianpan-co/id1492596286" target="_blank" class="_ed _ee _ef _eg _eh _ei _ah _ak _aj _ej _ao _ek _el _em _ar _b3 _en _b5 _eo _ep _eq _er _es _et _eu _ev"><span class="_ah _ak _d7 _ew _ex _ey _ez _f0"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" fill="#FFFFFF" viewBox="0 0 128 128"><g data-width="27" data-height="32" display="inline" transform="scale(4) translate(2)"><g display="inline"><path d="M25.198 10.471c-2.277 1.718-3.412 3.783-3.405 6.194.009 2.883 1.424 5.09 4.25 6.625-.753 2.324-1.842 4.352-3.275 6.077-1.431 1.731-2.74 2.595-3.925 2.599-.561 0-1.322-.192-2.288-.578l-.465-.183c-.949-.401-1.789-.586-2.514-.586-.689.004-1.441.158-2.258.467l-.582.224-.734.316c-.576.245-1.16.371-1.75.375-1.386.004-2.919-1.198-4.601-3.618-2.424-3.456-3.64-7.234-3.65-11.32-.009-2.906.738-5.247 2.239-7.028 1.501-1.778 3.493-2.672 5.974-2.68.93-.002 1.795.177 2.606.533l.554.237.582.252c.518.23.938.345 1.256.345.409 0 .864-.102 1.36-.307l.763-.318.567-.222c.906-.352 1.908-.529 3.004-.533 2.606-.011 4.701 1.032 6.292 3.13z"></path><path d="M19.006 0c.03.369.047.655.049.855.004 1.827-.623 3.433-1.874 4.817s-2.71 2.075-4.375 2.077c-.049-.411-.077-.708-.077-.887-.004-1.554.576-3.015 1.74-4.38 1.16-1.367 2.51-2.166 4.045-2.403.111-.019.275-.049.492-.079z"></path></g></g></svg></span><span class="_f1 _ar _e0 _cz _f2"><span class="_f3 _f4">iOS App</span></span></a><a style="max-width:176px" href="https://play.google.com/store/apps/details?id=co.tianpan.mobile" target="_blank" class="_ed _ee _ef _eg _eh _ei _ah _ak _aj _ej _ao _ek _el _em _ar _b3 _en _b5 _eo _ep _eq _er _es _et _eu _ev"><span class="_ah _ak _d7 _ew _ex _ey _ez _f0"><svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" fill="#FFF" viewBox="0 0 128 128"><g data-width="28" data-height="32" display="inline" transform="scale(4) translate(2)"><g display="inline"><path d="M1.975 10.351c-1.091-.001-1.975.885-1.975 1.975l.001 8.271c0 1.093.885 1.976 1.975 1.976 1.091 0 1.976-.883 1.974-1.976v-8.272c0-1.089-.886-1.975-1.976-1.974"></path><path d="M27.085 12.322c0-1.091-.884-1.975-1.975-1.975-1.091-.001-1.975.885-1.974 1.976l.001 8.271c0 1.092.884 1.974 1.975 1.975 1.091 0 1.974-.883 1.974-1.976l-.002-8.271z"></path><path d="M4.716 10.724l.003 12.817c-.001 1.166.942 2.107 2.107 2.107l1.435.001.002 4.376c0 1.089.885 1.975 1.973 1.975 1.091 0 1.976-.886 1.976-1.977l-.001-4.375 2.666-.001.001 4.376c0 1.089.886 1.976 1.974 1.974 1.091.001 1.976-.886 1.976-1.976l-.001-4.375 1.44-.001c1.163 0 2.108-.942 2.108-2.108l-.002-12.818-17.658.003z"></path><path d="M17.902 2.924l1.379-2.518c.073-.132.025-.299-.108-.373-.135-.071-.3-.023-.372.11l-1.392 2.544c-1.172-.521-2.483-.814-3.87-.812-1.384-.001-2.694.29-3.861.808l-1.394-2.537c-.072-.134-.239-.182-.371-.109-.134.072-.183.24-.109.371l1.379 2.515c-2.71 1.398-4.541 4.059-4.539 7.114l17.791-.002c.001-3.055-1.827-5.71-4.533-7.111zm-8.41 3.89c-.41-.001-.743-.334-.743-.745 0-.41.333-.747.744-.747.412 0 .746.337.747.747 0 .411-.334.745-.747.745zm8.101-.001c-.411.001-.746-.333-.746-.746.001-.409.334-.746.746-.747.409.001.745.338.744.748.001.412-.333.745-.745.745z"></path></g></g></svg></span><span class="_f1 _ar _e0 _cz _f2"><span class="_f3 _f4">Android App</span></span></a></div><a style="max-width:176px" href="https://github.com/puncsky/mobile-guiguio-release/releases/download/1.7.0/app.apk">Download APK</a></div></div></div><div class="_f5 _ah _ai _ak _aj _e3 _f6 _f7 _f0 _ar _af _f8 _f9 _fa"><div class="_ah _da _dk _aj _eb _az _dc _dd _fb _dq _de _df"><div>© 2020 Tian</div><div>Built with <span style="font-size: 12px; color: #F27788;">♥</span> in San Francisco</div></div><div class="_ah _da _dk _aj _eb _az _dc _dd _fc _dq _de _df"><div class="_ah _da _ai _aj _eb _az _dc _dd _ak _dq _de _df"><a style="margin-right:4px" href="/atom.xml" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss"></i> RSS</a><a style="margin-right:4px" href="https://github.com/puncsky" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> Github</a><a style="margin-right:4px" href="/about" target="_blank" rel="noopener noreferrer"><i class="fas fa-envelope"></i> Email</a><a style="margin-right:4px" href="https://www.linkedin.com/in/tian-pan-75300831/" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin"></i> Linkedin</a><a style="margin-right:4px" href="https://twitter.com/puncsky" target="_blank" rel="noopener noreferrer"><i class="fab fa-twitter"></i> Twitter</a></div><a target="_blank" rel="noopener noreferrer" href="https://onefx.js.org"><img style="height:20px" src="https://web-guiguio.b-cdn.net/built-with-onefx.svg"/></a></div></div></div></div></div></div></div></div><script src="https://unpkg.com/mermaid@8.1.0/dist/mermaid.min.js"></script></div></div><noscript><div style="display:none"><img src="//pixel.quantserve.com/pixel/p--9fdz4U-RU2y3.gif" border="0" height="1" width="1" alt="Quantcast"/></div></noscript><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script src="https://unpkg.com/mermaid@8.1.0/dist/mermaid.min.js"></script></div></div>
    <script type="text/javascript" crossorigin="" src="https://web-guiguio.b-cdn.net/blog-client-main-1d5e7fad2cd82dd1a2d3.js"></script>
  </body>
</html>
